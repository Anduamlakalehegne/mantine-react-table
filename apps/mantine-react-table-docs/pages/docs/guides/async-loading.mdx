import Head from 'next/head';
import TableOptionsTable from '../../../components/prop-tables/TableOptionsTable';
import StateOptionsTable from '../../../components/prop-tables/StateOptionsTable';
import LoadingExample from '../../../examples/loading';
import ProgressExample from '../../../examples/progress';
import ReactQueryExample from '../../../examples/react-query';

<Head>
  <title>Async Loading Feature Guide - Mantine React Table Docs</title>
  <meta
    name="description"
    content="How to show loading indicators, skeletons, and progress bars in Mantine React Table"
  />
</Head>

## Async Loading Feature Guide

While you are fetching your data, you may want to show some loading indicators. Mantine React Table has some nice loading UI features built in that look better than a simple spinner.

> This guide is mostly focused on the loading UI features. Make sure to also check out the [Remote Data](/docs/examples/remote) and [React Query](/docs/examples/react-query) examples for server-side logic examples.

### Relevant Table Options

<TableOptionsTable
  onlyOptions={new Set(['mantineSkeletonProps', 'mantineProgressProps'])}
/>

### Relevant State Options

<StateOptionsTable
  onlyOptions={
    new Set(['isLoading', 'isSaving', 'showSkeletons', 'showProgressBars'])
  }
/>

### isLoading UI

Rather than coding your own spinner or loading indicator, you can simply set the `isLoading` state to `true`, and Mantine React Table will show progress bars and cell skeletons for you.

```jsx
const table = useMantineReactTable({
  columns,
  data: data, //should be empty array
  state: { isLoading: true },
});
```

<LoadingExample />

#### Only Show Progress Bars or Skeletons

If you do not want both progress bars and cell skeletons to show, you can use the `showProgressBars` and `showSkeletons` states, instead.

```jsx
const table = useMantineReactTable({
  columns,
  data: data ?? [],
  state: { showProgressBars: true }, //or showSkeletons
});
```

### Customize Linear Progress Bars

You can customize the linear progress bars by passing props to the `mantineProgressProps` prop.

<ProgressExample />

### Full Loading and Server-Side Logic Example

Here is a copy of the full [React Query](/docs/examples/react-query) example.

<ReactQueryExample />
